# single-spa

是一个js库，它允许许多小应用在一个页面应用程序中共存。该库可以让你的应用采用不同的技术栈(angular、vue、react)继续同步开发，最后通过一个公共的路由即可实现完美的切换。  

## 生命周期

生命周期共有4个：bootstrap、mount、unmount、update

## 系统之间如何通信

系统之间通信一般有两种方式：自定义事件和本地存储。如果是两个系统相互跳转，可以用URL传数据。  
一般来说，不会同时存在A、B两个子系统，常见的数据共享就是登陆信息，登陆信息一般使用本地存储记录。另外一个常见的场景就是子系统修改了用户信息，主系统需要重新请求用户信息，这个时候一般用自定义事件通信，自定义事件具体如何操作，可以看上一篇文章的例子。  

## 优点

加载快，可以将所有系统公共的模块提取出来，实现按需加载、一次加载，其他的复用。  
用户体验感好、快。因为内容的改变不需要重新加载整个页面，避免了不必要的挑战和重复渲染。  

## 缺点

css和js需要指定规范(css给body加一个clss或者id)，进行隔离，因为子系统卸载后，其引入的css并不会被删掉，容易造成全局污染。js则没有一个很好的办法解决，但是可以靠编码规范来约束：页面销毁时，清除页面的定时器/全局事件，必要的时候，全局变量也应该销毁。尤其是vue的全局组件、全局钩子。  

参考：https://juejin.cn/post/6844904085200601102  
